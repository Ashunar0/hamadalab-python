# モデル精度向上の分析レポート

## 1. 実施した施策
精度向上のため、以下の特徴量エンジニアリングを実施し、モデルを再学習させました。

### 追加した特徴量（計11個）
物理的特性や変化の性質をより詳細に捉えるために、以下の変数を追加しました。

1.  **回転・変化の方向性**:
    *   `normalized_spin_axis`: 回転軸の正規化
    *   `spin_axis_sin`, `spin_axis_cos`: 回転軸の成分分解（円環的な性質への対応）
    *   `movement_angle`: 変化の角度
    *   `abs_horizontal_movement`: 水平変化量の絶対値

2.  **変化の大きさ・効率**:
    *   `movement_magnitude`: 変化量のユークリッド距離（縦横の合成変化量）
    *   `spin_efficiency`: 回転効率（推定値）

3.  **比率・関係性**:
    *   `speed_spin_ratio`: 球速と回転数の比
    *   `horizontal_vertical_ratio`: 縦横の変化比率

4.  **SI/FF（シンカー/4シーム）識別特化**:
    *   `vertical_rise`: 縦方向のホップ成分
    *   `sink_rate`: 沈み込み度合い
    *   `spin_axis_deviation_from_fastball`: 4シーム基準の回転軸偏差

## 2. 混同行列（Confusion Matrix）の変化分析

### 全体傾向
全体的に対角成分（正解数）が増加し、非対角成分（誤分類）が減少しています。特に、**FC（カットボール）**、**CU（カーブ）**、**KC（ナックルカーブ）** の正解数が大幅に向上しました。

### 主要な誤分類ペアの改善

#### ① Sinker (SI) vs 4-Seam Fastball (FF)
最も課題となっていた類似球種の識別において、明確な改善が見られました。

*   **SI → FF への誤分類**: 2,430件 → **1,619件** (約33%減少)
*   **FF → FC への誤分類**: 970件 → **627件** (約35%減少)

> **考察**: `vertical_rise` や `sink_rate` などの縦変化に関する特徴量が、ホップする4シームと沈むシンカーの識別に寄与したと考えられます。

#### ② Slider (SL) vs Cutter (FC)
同様に変化が類似するスライダーとカットボールの識別も向上しました。

*   **SL → FC への誤分類**: 2,776件 → **2,124件** (約23%減少)
*   **FC → FF への誤分類**: 1,406件 → **835件** (約40%減少)

> **考察**: `movement_angle` や `abs_horizontal_movement` が、曲がり幅の大きいスライダーと、より直球に近いカットボールのわずかな軌道の違いを捉えた可能性があります。

#### ③ Curve (CU) vs Knuckle Curve (KC)
カーブ系の識別精度が劇的に向上しています。

*   **KC → CU への誤分類**: 1,624件 → **938件** (約42%減少)
*   **CU → KC への誤分類**: 390件 → **271件** (約30%減少)

## 3. まとめ
特徴量エンジニアリングにより、物理的な挙動（変化量、回転軸、速度比）をモデルがより解釈しやすい形で提供できたことで、**人間でも見分けがつきにくい球種（SI/FF, SL/FC）の識別能力が底上げされました**。

特に「変化の質」や「球速と回転のバランス」に関する特徴量が、微妙な変化の違いを捉えるのに有効であったと言えます。
