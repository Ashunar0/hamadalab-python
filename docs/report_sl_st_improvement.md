# モデル改善報告書：SL（スライダー）と ST（スイーパー）の再定義による効果

## 1. 概要
本レポートでは、前回実施した「Others対FF」の改善（`asao_improvement_others_ff.ipynb`）に加え、新たに**「SL（スライダー）と ST（スイーパー）」のラベル物理的再定義**を行った結果（`asao_improvement_sl_st.ipynb`）について詳述します。

## 2. 比較結果サマリー

| 項目 | 改善第1弾 (Others対策のみ) | 改善第2弾 (Others + SL/ST対策) | 変化量 |
| :--- | :--- | :--- | :--- |
| **検証正解率 (Accuracy)** | **0.913** | **0.924** | **+1.1%** |
| SL/ST 誤分類数 | 約 2,622 件 | **392 件** | **85% 減** |
| 最大の誤分類要因 | SL vs ST (2位) | (大幅に改善) | - |

> **考察**: 誤分類は完全なゼロではありませんが、2,600件から400件弱まで **85%削減** されました。

## 3. 実施した改善の詳細

### 背景
スライダー（SL）とスイーパー（ST）は連続的な関係にあり、人間の判定や古いアルゴリズムでは境界が曖昧でした。データ分析の結果、以下の傾向が確認されました：
- **SL（スライダー）**: 横変化が小さい
- **ST（スイーパー）**: 横変化が大きい
- **問題点**: データセット内には「横変化が大きいSL」や「横変化が小さいST」が大量に混在しており、これがモデルの学習を阻害していました。

### 対策（物理的再定義）
横変化量（`pfx_x`）に基づき、以下のルールでラベルを修正しました：
1.  **High-Break SLの修正**: `pfx_x > 0.9` の SL を **ST** に変更（約 8,800件）
2.  **Low-Break STの修正**: `pfx_x < 0.8` の ST を **SL** に変更（約 3,900件）

この処理により、「中途半端なラベル」がなくなり、モデルは「変化量の大小」という物理的特徴を素直に学習できるようになりました。

## 4. 誤分類の変化（Before / After）

### Before: 改善第1弾 (`asao_improvement_others_ff.ipynb`)
誤分類ランキングの上位に SL/ST の混同が大量に存在していました。
- SL -> ST: 1,411 件
- ST -> SL: 1,211 件
- **合計: 2,622 件のノイズ**

### After: 改善第2弾 (`asao_improvement_sl_st.ipynb`)
誤分類ランキングから SL/ST のペアは大幅に減少しました。
- SL -> ST: **177 件**
- ST -> SL: **215 件**
- **合計: 392 件** (改善前から約85%削減)

物理的定義（閾値）の導入により、定義の境界付近にあるグレーゾーンのデータが整理された効果が現れています。

## 5. 結論
物理的特徴に基づいたラベルのクリーニング（再定義）は、単なるパラメータ調整よりも遥かに大きな効果を発揮しました。
特に「スイーパー」のような新しい球種の定義をデータセット全体で統一したことが、今回の性能向上の勝因です。
